const[DataInterface]=function(){"use strict";const e=function(){this.monitor=new Monitor},t={key:"Age",label:"Age",hasValues:!0},n={key:"Gender",label:"Gender",hasValues:!0},s={key:"Location",label:"Locations",hasValues:!0},o={key:"Retargeting",label:"Similarity to an audience profile",hasValues:!1},a={key:"Interest",label:"Interests",hasValues:!0},r={key:"Segment",label:"Advertiser categories",hasValues:!0},i={key:"Language",label:"Languages",hasValues:!0},l={key:"Like",label:"Activities on Facebook",hasValues:!1},u={key:"List",label:"Inclusion in a contact list",hasValues:!1},c={key:"Website",label:"Browsing history or app usage",hasValues:!1},g={key:"Agency",label:"Data provided by external agencies",hasValues:!0},h={key:"Unknown",label:"Unseen reason",hasValues:!1};return e.prototype.getAllTargetTypes=function(){return[t,n,s,o,a,r,i,l,u,c,g]},e.prototype.computePublicTargetStats=function(){return new Promise(e=>{this.monitor.ENTER("computePublicTargetStats"),fetch("fbpac-targets.json").then(e=>e.json()).then(t=>{this.monitor.RESULTS(t),this.monitor.EXIT("computePublicTargetStats"),e(t)})})},e.prototype.computeYourTargetStats=function(){return new Promise(e=>{this.monitor.ENTER("computeYourTargetStats"),this.getAllAds().then(p=>{const m=p.allAds,y={};this.getAllTargetTypes().forEach(e=>{const p=[],d=new Set;m.forEach(m=>{if(m.targets){const y=new Set;let T=null,b=null;m.targets.forEach(p=>{if((e=>"Age"===e?t:"Gender"===e?n:"Region"===e||"City"===e||"State"===e?s:"Retargeting"===e?o:"Interest"===e?a:"Segment"===e?r:"Language"===e?i:"Like"===e?l:"List"===e?u:"Website"===e?c:"Agency"===e?g:h)(p.target).key===e.key){const e=(e=>e&&e.length>=1&&"."===e.substring(e.length-1,e.length)?e.substring(0,e.length-1):e)(p.segment);void 0!==e&&("City"===p.target?T=e:"State"===p.target?b=e:y.add(e))}}),null!==T&&null!==b?y.add(`${T}, ${b}`):(null!==T&&y.add(T),null!==b&&y.add(b)),y.size>0&&(p.push(y),y.forEach(e=>d.add(e)))}});const T={adCount:m.length,typeCount:p.length,targetValues:Array.from(d).sort()};y[e.key]=T}),this.monitor.RESULTS(y),this.monitor.EXIT("computeYourTargetStats"),e(y)})})},e.prototype.computeTopAdvertisersIndex=function(){return new Promise(e=>{this.monitor.ENTER("computeTopAdvertisersIndex"),fetch("tables/index.json").then(e=>e.json()).then(t=>{this.monitor.RESULTS(t),this.monitor.EXIT("computeTopAdvertisersIndex"),e(t)})})},e.prototype.computeTopAdvertisersTable=function(e){return new Promise(t=>{this.monitor.ENTER("computeTopAdvertisersTable"),fetch(`tables/${e}.tsv`).then(e=>e.text()).then(e=>{const n=e.split("\n").filter(e=>e.length>0).map(e=>e.split("\t"));this.monitor.RESULTS(n),this.monitor.EXIT("computeTopAdvertisersTable"),t(n)})})},e.prototype.isIncognito=function(){return Promise.resolve(!0)},e.prototype.onDatabaseEvents=function(){},[e]}();